---
title: rcm
layout: default
---
# RCM

## Доступные команды:

* `lsrc` -- показать, как будут выглядеть конфиги после `rcup`
* `mkrc` -- добавить конфиг в спецкаталог(задаётся в `~/.rcrc`, дефолт `.dotfiles`)
* `rcup` -- разворачивает файлы из спецкаталога на место
* `rcdn` -- удаляет линки с файлов, лежащих в спецкаталоге с мест. Чистит.

## Раскладка по хостам

ключ для `mkrc` -- `-B <hostname>`
ключ для `mkrc` -- `-o` то жеж самое, но имя хоста вычислить или взять из `.rcrc`

не забывать проверять как разложилось командой `lsrc`

ключ для `rcup` -- `-g` вывести на консоль скрипт раскладки файлов. фс не трогать
ключ для `rcup` -- `-i` выводить предупреждения при существующем и отличающемся файле.

## Хосты, по которым раскладываются локальные для хоста файлы

* ioteh (legacy)
* hp
* afanote (TODO)
* afamac (cloned from afanote, need fixes in vim & local aliases -- local_cut)
* afahome (TODO)
* afawork (_IN PROGRESS_)

### Файлы, раскладываемые по хостам

* `.rcrc` -- настройки дотфайлов для локального хоста. имя хоста, тэги по умолчанию (сейчас один тэг, vim)
* `.zshrc`
* `.local_aliases` -- сильно локальные алиасы, которые не разложить больше никуда
* `.ssh/config` -- настройки ssh (шифровать?)
* `.pgpass` -- пароли постгреса (шифровать!)
* `.gitconfig` -- глобальные настройки гита (шифровать?)
* `.gitignore_global` -- глобальный гитигнор

#### TODO: придумать, как таскать ключи ссш и пароли постгреса. пост хук с шифрованием?

## Алиасы

* `.aliases` -- файл с загрузкой всех остальных алиасов, текущий набор не разложенного по файлам
* `.moz_aliases` -- для мозайки
* `.kube_aliases` -- кубы, набор функций
* `.common_aliases` -- общего назначения. погода и прочее

#### NOTE: *.local_aliases раскладывается по хостам!*

#### NOTE: vim файлы прячутся под тег vim, продумать как раскладывать .vim каталог
